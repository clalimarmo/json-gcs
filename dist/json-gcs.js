define("ensure",[],function(){return function(n,t){for(var e={},r=0;r<n.length;r++){var o=n[r],u=t[o];if(void 0===u||null===u)throw new Error("missing dependency:"+o);e[o]=u}return e}}),define("storage",["require","ensure"],function(n){var t=n("ensure"),e="32478901278hidoggy409",r="\r\n--"+e+"\r\n",o="\r\n--"+e+"--",u=function(n){t(["authenticator","http","bucketName"],n),t(["token"],n.authenticator);var u=function(){return"Bearer "+n.authenticator.token()},i=function(){return"https://www.googleapis.com/upload/storage/v1/b/"+n.bucketName+"/o?uploadType=multipart"},a=function(){return"https://www.googleapis.com/storage/v1/b/"+n.bucketName+"/o"},c=function(t){return"https://storage.googleapis.com/"+n.bucketName+"/"+t},s={};return s.index=function(t){n.http.ajax(a(),{headers:{Authorization:u()},success:function(n){var e=[];for(var r in n.items)e.push(n.items[r]);t.success(e)}})},s.put=function(t,a,c){c=c||{};var s={name:t,metadata:c.metadata},f=r+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(s)+r+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(a)+o;n.http.ajax(i(),{method:"POST",headers:{Authorization:u(),"Content-Type":'multipart/related; boundary="'+e+'"'},data:f,success:c.success,error:c.error})},s.get=function(t,e){n.http.ajax(c(t),{headers:{Authorization:u()},success:function(n){var t;t="object"==typeof n?n:JSON.parse(n),e.success(t)},error:e.error})},s};return u}),define("file",[],function(){var n=function(n){var t=n.datastore,e=[],r=null,o=null,u={},i=function(){for(var n in e)e[n](o)},a=function(n){t.put(r,o,n)};return u.onLoaded=function(n){"function"==typeof n&&e.push(n)},u.dir=function(n){t.index({success:n})},u.save=function(n,t){o=n,a(t)},u.open=function(n,e){var u={};e=e||{},u.error=e.error,u.success=function(t){r=n,o=t,i(),"function"==typeof e.success&&e.success()},t.get(n,u)},u.data=function(){return o},u.filename=function(){return r},u.init=function(n,t,e){r=n,o=t,a(e)},u};return n}),define("json-gcs",["require","storage","file"],function(n){return{Storage:n("storage"),File:n("file")}});