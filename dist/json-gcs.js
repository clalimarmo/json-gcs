define("json-gcs",[],function(){var t=function(t,e){for(var n={},r=0;r<t.length;r++){var o=t[r],a=e[o];if(void 0===a||null===a)throw new Error("missing dependency:"+o);n[o]=a}return n},e="32478901278409",n="\r\n--"+e+"\r\n",r="\r\n--"+e+"--",o=function(o){t(["authenticator","http","bucketName"],o),t(["token"],o.authenticator);var a=function(){return"Bearer "+o.authenticator.token()},s=function(){return"https://www.googleapis.com/upload/storage/v1/b/"+o.bucketName+"/o?uploadType=multipart"},i=function(){return"https://www.googleapis.com/storage/v1/b/"+o.bucketName+"/o"},u=function(t){return"https://storage.googleapis.com/"+o.bucketName+"/"+t},c={};return c.index=function(t){o.http.ajax(i(),{headers:{Authorization:a()},success:function(e){var n=[];for(var r in e.items)n.push(e.items[r]);t.success(n)}})},c.put=function(t,i,u){u=u||{};var c={name:t,metadata:u.metadata},p=n+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(c)+n+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(i)+r;o.http.ajax(s(),{method:"POST",headers:{Authorization:a(),"Content-Type":'multipart/related; boundary="'+e+'"'},data:p,success:u.success,error:u.error})},c.get=function(t,e){o.http.ajax(u(t),{headers:{Authorization:a()},success:function(t){var n;n="object"==typeof t?t:JSON.parse(t),e.success(n)},error:e.error})},c};return o});