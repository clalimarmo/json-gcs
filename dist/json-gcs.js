define("ensure",[],function(){return function(e,t){for(var n={},r=0;r<e.length;r++){var o=e[r],u=t[o];if(void 0===u||null===u)throw new Error("missing dependency:"+o);n[o]=u}return n}}),define("storage",["require","ensure"],function(e){var t=e("ensure"),n="32478901278hidoggy409",r="\r\n--"+n+"\r\n",o="\r\n--"+n+"--",u=function(e){t(["authenticator","http","bucketName"],e),t(["token"],e.authenticator);var u=function(){return"Bearer "+e.authenticator.token()},i=function(){return"https://www.googleapis.com/upload/storage/v1/b/"+e.bucketName+"/o?uploadType=multipart"},a=function(){return"https://www.googleapis.com/storage/v1/b/"+e.bucketName+"/o"},c=function(t){return"https://storage.googleapis.com/"+e.bucketName+"/"+t},s={};return s.index=function(t){e.http.ajax(a(),{headers:{Authorization:u()},success:function(e){var n=[];for(var r in e.items)n.push(e.items[r]);t.success(n)}})},s.put=function(t,a,c){c=c||{};var s={name:t,metadata:c.metadata},f=r+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(s)+r+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(a)+o;e.http.ajax(i(),{method:"POST",headers:{Authorization:u(),"Content-Type":'multipart/related; boundary="'+n+'"'},data:f,success:c.success,error:c.error,complete:c.complete})},s.get=function(t,n){e.http.ajax(c(t),{headers:{Authorization:u()},success:function(e){var t;t="object"==typeof e?e:JSON.parse(e),n.success(t)},error:n.error,complete:n.complete})},s};return u}),define("file",[],function(){var e=function(e){var t=e.datastore,n=[],r=null,o=null,u={},i=function(){for(var e in n)n[e](o)},a=function(e){t.put(r,o,e)};return u.onLoaded=function(e){"function"==typeof e&&n.push(e)},u.dir=function(e){t.index({success:e})},u.save=function(e,t){o=e,a(t)},u.open=function(e,n){var u={};n=n||{},u.error=n.error,u.success=function(t){r=e,o=t,i(),"function"==typeof n.success&&n.success()},u.complete=n.complete,t.get(e,u)},u.data=function(){return o},u.filename=function(){return r},u.init=function(e,t,n){r=e,o=t,a(n)},u};return e}),define("json-gcs",["require","storage","file"],function(e){return{Storage:e("storage"),File:e("file")}});