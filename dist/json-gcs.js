define("json-gcs",[],function(){var t=function(t,n){for(var e={},r=0;r<t.length;r++){var o=t[r],a=n[o];if(void 0===a||null===a)throw new Error("missing dependency:"+o);e[o]=a}return e},n="foo-bar-baz",e="\r\n--"+n+"\r\n",r="\r\n--"+n+"--",o=function(o){t(["authenticator","http","bucketName"],o),t(["token"],o.authenticator);var a=function(){return"Bearer "+o.authenticator.token()},i=function(){return"https://www.googleapis.com/upload/storage/v1/b/"+o.bucketName+"/o?uploadType=multipart"},u=function(){return"https://www.googleapis.com/storage/v1/b/"+o.bucketName+"/o"},s=function(t){return"https://storage.googleapis.com/"+o.bucketName+"/"+t},c={};return c.index=function(t){o.http.ajax(u(),{headers:{Authorization:a()},success:function(n){var e=[];for(var r in n.items)e.push(n.items[r]);t.success(e)}})},c.put=function(t,u,s){var c={name:t,metadata:s},p=e+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(c)+e+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(u)+r;o.http.ajax(i(),{method:"POST",headers:{Authorization:a(),"Content-Type":'multipart/related; boundary="'+n+'"'},data:p})},c.get=function(t,n){o.http.ajax(s(t),{headers:{Authorization:a()},success:function(t){var e;e="object"==typeof t?t:JSON.parse(t),n.success(e)},error:n.error})},c};return o});