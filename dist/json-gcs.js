define("json-gcs",[],function(){var t=function(t,e){for(var n={},r=0;r<t.length;r++){var o=t[r],a=e[o];if(void 0===a||null===a)throw new Error("missing dependency:"+o);n[o]=a}return n},e=function(e){t(["authenticator","http","bucketName"],e),t(["token"],e.authenticator);var n=function(){return"Bearer "+e.authenticator.token()},r=function(t){return"https://www.googleapis.com/upload/storage/v1/b/"+e.bucketName+"/o?uploadType=media&name="+t},o=function(t){return"https://storage.googleapis.com/"+e.bucketName+"/"+t},a={};return a.put=function(t,o){e.http.ajax(r(t),{method:"POST",headers:{Authorization:n()},data:JSON.stringify(o)})},a.get=function(t,r){e.http.ajax(o(t),{headers:{Authorization:n()},success:function(t){var e=JSON.parse(t);r.success(e)},error:r.error})},a};return e});